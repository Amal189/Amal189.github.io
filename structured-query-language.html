<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Structured Query Language | _main.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Structured Query Language | _main.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Structured Query Language | _main.knit" />
  
  
  

<meta name="author" content="Jasmijnbloem" />


<meta name="date" content="2025-05-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"/>
<link rel="next" href="r-package.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-18.2.0/react.min.js"></script>
<script src="libs/react-18.2.0/react-dom.min.js"></script>
<script src="libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/reactable-0.4.4/reactable.css" rel="stylesheet" />
<script src="libs/reactable-binding-0.4.4/reactable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welkom</a></li>
<li class="chapter" data-level="2" data-path="curriculum-vitae.html"><a href="curriculum-vitae.html"><i class="fa fa-check"></i><b>2</b> Curriculum Vitae</a>
<ul>
<li class="chapter" data-level="2.1" data-path="curriculum-vitae.html"><a href="curriculum-vitae.html#curriculum-vitae-nederlands"><i class="fa fa-check"></i><b>2.1</b> Curriculum Vitae (Nederlands)</a></li>
<li class="chapter" data-level="2.2" data-path="curriculum-vitae.html"><a href="curriculum-vitae.html#curriculum-vitae-english-version"><i class="fa fa-check"></i><b>2.2</b> Curriculum Vitae (English Version)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html"><i class="fa fa-check"></i><b>3</b> Vooruikijken: Massaspectrometrie</a>
<ul>
<li class="chapter" data-level="3.1" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#toekomstbeeld-en-motivatie"><i class="fa fa-check"></i><b>3.1</b> 1. Toekomstbeeld en motivatie</a></li>
<li class="chapter" data-level="3.2" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#planning"><i class="fa fa-check"></i><b>3.2</b> 2. Planning</a></li>
<li class="chapter" data-level="3.3" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#inleiding"><i class="fa fa-check"></i><b>3.3</b> 3. Inleiding</a></li>
<li class="chapter" data-level="3.4" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#hoe-ziet-het-systeem-eruit"><i class="fa fa-check"></i><b>3.4</b> 4. Hoe ziet het systeem eruit?</a></li>
<li class="chapter" data-level="3.5" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#termen-in-de-massaspectrometrie"><i class="fa fa-check"></i><b>3.5</b> Termen in de massaspectrometrie</a></li>
<li class="chapter" data-level="3.6" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#tools-en-packages"><i class="fa fa-check"></i><b>3.6</b> Tools en packages</a></li>
<li class="chapter" data-level="3.7" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#uitwerking-met-msdata"><i class="fa fa-check"></i><b>3.7</b> 4. Uitwerking met msdata</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#introductie-bestandsformaat-en-voorbeelddata"><i class="fa fa-check"></i><b>3.7.1</b> Introductie bestandsformaat en voorbeelddata</a></li>
<li class="chapter" data-level="3.7.2" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#hoe-ik-de-data-inlees"><i class="fa fa-check"></i><b>3.7.2</b> Hoe ik de data inlees</a></li>
<li class="chapter" data-level="3.7.3" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#verkennen-van-spectra"><i class="fa fa-check"></i><b>3.7.3</b> Verkennen van spectra</a></li>
<li class="chapter" data-level="3.7.4" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#plotten-van-chromatogram"><i class="fa fa-check"></i><b>3.7.4</b> Plotten van chromatogram</a></li>
<li class="chapter" data-level="3.7.5" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#filteren-op-retentietijd-en-ms-level"><i class="fa fa-check"></i><b>3.7.5</b> Filteren op retentietijd en MS-level</a></li>
<li class="chapter" data-level="3.7.6" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#gemiddeld-spectrum-handmatig-berekenen-en-plotten"><i class="fa fa-check"></i><b>3.7.6</b> Gemiddeld spectrum handmatig berekenen en plotten</a></li>
<li class="chapter" data-level="3.7.7" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#pca-op-voorbeelddata"><i class="fa fa-check"></i><b>3.7.7</b> PCA op voorbeelddata</a></li>
<li class="chapter" data-level="3.7.8" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#t-sne-visualisatie-van-spectra"><i class="fa fa-check"></i><b>3.7.8</b> t-SNE visualisatie van spectra</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#uitwerking-met-de-prolocdata"><i class="fa fa-check"></i><b>3.8</b> 5. Uitwerking met de pRolocdata</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#stap-1-installatie-en-laden-van-benodigde-pakketten"><i class="fa fa-check"></i><b>3.8.1</b> Stap 1: Installatie en laden van benodigde pakketten</a></li>
<li class="chapter" data-level="3.8.2" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#stap-2-laad-de-dunkley2006-dataset"><i class="fa fa-check"></i><b>3.8.2</b> Stap 2: Laad de dunkley2006 dataset</a></li>
<li class="chapter" data-level="3.8.3" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#stap-3-eerste-verkenning-van-de-dataset"><i class="fa fa-check"></i><b>3.8.3</b> Stap 3: Eerste verkenning van de dataset</a></li>
<li class="chapter" data-level="3.8.4" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#stap-4-pca-plot-van-eiwitexpressie"><i class="fa fa-check"></i><b>3.8.4</b> Stap 4: PCA-plot van eiwitexpressie</a></li>
<li class="chapter" data-level="3.8.5" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#stap-5-t-sne-voor-niet-lineaire-visualisatie"><i class="fa fa-check"></i><b>3.8.5</b> Stap 5: t-SNE voor niet-lineaire visualisatie</a></li>
<li class="chapter" data-level="3.8.6" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#stap-6-heatmap-van-eiwitexpressie"><i class="fa fa-check"></i><b>3.8.6</b> Stap 6: Heatmap van eiwitexpressie</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#zelf-grafieken-maken"><i class="fa fa-check"></i><b>3.9</b> 6. Zelf grafieken maken</a></li>
<li class="chapter" data-level="3.10" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#reflectie"><i class="fa fa-check"></i><b>3.10</b> Reflectie:</a></li>
<li class="chapter" data-level="3.11" data-path="vooruikijken-massaspectrometrie.html"><a href="vooruikijken-massaspectrometrie.html#bronnen"><i class="fa fa-check"></i><b>3.11</b> Bronnen</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="guerilla-analytics.html"><a href="guerilla-analytics.html"><i class="fa fa-check"></i><b>4</b> Guerilla analytics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="guerilla-analytics.html"><a href="guerilla-analytics.html#daur2_rnaseq"><i class="fa fa-check"></i><b>4.1</b> DAUR2_RNAseq</a></li>
<li class="chapter" data-level="4.2" data-path="guerilla-analytics.html"><a href="guerilla-analytics.html#portfolio-van-jasmijnbloem"><i class="fa fa-check"></i><b>4.2</b> Portfolio van Jasmijnbloem</a></li>
<li class="chapter" data-level="4.3" data-path="guerilla-analytics.html"><a href="guerilla-analytics.html#referentie"><i class="fa fa-check"></i><b>4.3</b> Referentie</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html"><i class="fa fa-check"></i><b>5</b> Reproduceerbare Analyse 1</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#c.elegans-toxiciteitsexperiment"><i class="fa fa-check"></i><b>5.1</b> C.elegans toxiciteitsexperiment</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-1-data-opslaan-en-inlezen"><i class="fa fa-check"></i><b>5.1.1</b> Stap 1: Data opslaan en inlezen</a></li>
<li class="chapter" data-level="5.1.2" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-2-inspecteren-van-de-datatypes"><i class="fa fa-check"></i><b>5.1.2</b> Stap 2: Inspecteren van de datatypes</a></li>
<li class="chapter" data-level="5.1.3" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-3-datatype-corrigeren"><i class="fa fa-check"></i><b>5.1.3</b> Stap 3: Datatype corrigeren</a></li>
<li class="chapter" data-level="5.1.4" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-4-scatter-plot-maken"><i class="fa fa-check"></i><b>5.1.4</b> Stap 4: Scatter plot maken</a></li>
<li class="chapter" data-level="5.1.5" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-5-normalizeren-van-de-data-voor-de-negatieve-controle"><i class="fa fa-check"></i><b>5.1.5</b> Stap 5: Normalizeren van de data voor de negatieve controle</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stappenplan-voor-dose-response-analyse"><i class="fa fa-check"></i><b>5.2</b> Stappenplan voor dose-response analyse</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-1-installeer-en-laad-het-drc-pakket"><i class="fa fa-check"></i><b>5.2.1</b> Stap 1: Installeer en laad het drc-pakket</a></li>
<li class="chapter" data-level="5.2.2" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-2-filter-de-data-verwijder-nas-en-incomplete-observaties"><i class="fa fa-check"></i><b>5.2.2</b> Stap 2: Filter de data (verwijder NA’s en incomplete observaties)</a></li>
<li class="chapter" data-level="5.2.3" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-3-dosis-respons-modellen-fitten"><i class="fa fa-check"></i><b>5.2.3</b> Stap 3: Dosis-respons modellen fitten</a></li>
<li class="chapter" data-level="5.2.4" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-4-bepaal-de-ic50-waarden"><i class="fa fa-check"></i><b>5.2.4</b> Stap 4: Bepaal de IC50-waarden</a></li>
<li class="chapter" data-level="5.2.5" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-5-overzichtstabel-van-ic50-waarden"><i class="fa fa-check"></i><b>5.2.5</b> Stap 5: Overzichtstabel van IC50-waarden</a></li>
<li class="chapter" data-level="5.2.6" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-6-dosis-respons-curves-combineren-in-één-figuur"><i class="fa fa-check"></i><b>5.2.6</b> Stap 6: Dosis-respons curves combineren in één figuur</a></li>
<li class="chapter" data-level="5.2.7" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#stap-7-eén-curve-per-stof-optioneel"><i class="fa fa-check"></i><b>5.2.7</b> Stap 7: Eén curve per stof (optioneel)</a></li>
<li class="chapter" data-level="5.2.8" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#conclusie"><i class="fa fa-check"></i><b>5.2.8</b> conclusie</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#wetenschappelijke-referenties"><i class="fa fa-check"></i><b>5.3</b> Wetenschappelijke Referenties</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#ethanol-en-effecten-op-c.-elegans-voortplanting"><i class="fa fa-check"></i><b>5.3.1</b> 1. <strong>Ethanol en effecten op <em>C. elegans</em> voortplanting</strong>:</a></li>
<li class="chapter" data-level="5.3.2" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#decaan-en-naphthaleen-als-toxische-stoffen"><i class="fa fa-check"></i><b>5.3.2</b> 2. <strong>Decaan en naphthaleen als toxische stoffen</strong>:</a></li>
<li class="chapter" data-level="5.3.3" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#dosis-responscurves-en-ic50-waarde-bepaling"><i class="fa fa-check"></i><b>5.3.3</b> 3. <strong>Dosis-responscurves en IC50-waarde bepaling</strong>:</a></li>
<li class="chapter" data-level="5.3.4" data-path="reproduceerbare-analyse-1.html"><a href="reproduceerbare-analyse-1.html#s-medium-als-controle-in-biologische-experimenten"><i class="fa fa-check"></i><b>5.3.4</b> 4. <strong>S-medium als controle in biologische experimenten</strong>:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><i class="fa fa-check"></i><b>6</b> Reproduceerbare Analyse 2: Artikel beoordelen op reproduceerbaarheid</a>
<ul>
<li class="chapter" data-level="6.1" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#artikelinformatie"><i class="fa fa-check"></i><b>6.1</b> Artikelinformatie</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#onderzoeksvraag-en-doel-van-het-onderzoek"><i class="fa fa-check"></i><b>6.1.1</b> Onderzoeksvraag en doel van het onderzoek</a></li>
<li class="chapter" data-level="6.1.2" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#korte-samenvatting-van-methode-en-resultaten"><i class="fa fa-check"></i><b>6.1.2</b> Korte samenvatting van methode en resultaten</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#beoordeling-van-de-reproduceerbaarheid"><i class="fa fa-check"></i><b>6.2</b> Beoordeling van de reproduceerbaarheid</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#doel-van-de-studie"><i class="fa fa-check"></i><b>6.2.1</b> 1. Doel van de studie</a></li>
<li class="chapter" data-level="6.2.2" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#data-beschikbaarheid"><i class="fa fa-check"></i><b>6.2.2</b> 2. Data beschikbaarheid</a></li>
<li class="chapter" data-level="6.2.3" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#locatie-van-de-data"><i class="fa fa-check"></i><b>6.2.3</b> 3. Locatie van de data</a></li>
<li class="chapter" data-level="6.2.4" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#plaats-van-de-studie"><i class="fa fa-check"></i><b>6.2.4</b> 4. Plaats van de studie</a></li>
<li class="chapter" data-level="6.2.5" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#informatie-over-auteurs"><i class="fa fa-check"></i><b>6.2.5</b> 5. Informatie over auteurs</a></li>
<li class="chapter" data-level="6.2.6" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#ethische-verklaring"><i class="fa fa-check"></i><b>6.2.6</b> 6. Ethische verklaring</a></li>
<li class="chapter" data-level="6.2.7" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#financiering"><i class="fa fa-check"></i><b>6.2.7</b> 7. Financiering</a></li>
<li class="chapter" data-level="6.2.8" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#code-beschikbaarheid"><i class="fa fa-check"></i><b>6.2.8</b> 8. Code beschikbaarheid</a></li>
<li class="chapter" data-level="6.2.9" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#samenvattende-tabel"><i class="fa fa-check"></i><b>6.2.9</b> Samenvattende tabel</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#reproduceerbaarheid-van-gedeelde-r-code"><i class="fa fa-check"></i><b>6.3</b> Reproduceerbaarheid van gedeelde R code</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#beschrijving-en-beoordeling-van-de-code"><i class="fa fa-check"></i><b>6.3.1</b> Beschrijving en beoordeling van de code</a></li>
<li class="chapter" data-level="6.3.2" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#reproduceerbaarheid-en-problemen"><i class="fa fa-check"></i><b>6.3.2</b> Reproduceerbaarheid en problemen</a></li>
<li class="chapter" data-level="6.3.3" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#aangepaste-code-werkt-wel"><i class="fa fa-check"></i><b>6.3.3</b> Aangepaste code (werkt wel):</a></li>
<li class="chapter" data-level="6.3.4" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#beordeling-op-reproduceerbaarheid"><i class="fa fa-check"></i><b>6.3.4</b> Beordeling op reproduceerbaarheid</a></li>
<li class="chapter" data-level="6.3.5" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#resultaat"><i class="fa fa-check"></i><b>6.3.5</b> Resultaat</a></li>
<li class="chapter" data-level="6.3.6" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#evaluatie-korte-evluatie-op-de-r-code"><i class="fa fa-check"></i><b>6.3.6</b> Evaluatie korte evluatie op de R code</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html"><a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html#conclusie-1"><i class="fa fa-check"></i><b>6.4</b> Conclusie</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="structured-query-language.html"><a href="structured-query-language.html"><i class="fa fa-check"></i><b>7</b> Structured Query Language</a>
<ul>
<li class="chapter" data-level="7.1" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-1-laad-de-libraries"><i class="fa fa-check"></i><b>7.1</b> Stap 1: Laad de libraries</a></li>
<li class="chapter" data-level="7.2" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-2-data-inlezen-in-r"><i class="fa fa-check"></i><b>7.2</b> Stap 2: Data inlezen in R</a></li>
<li class="chapter" data-level="7.3" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-3-data-controleren."><i class="fa fa-check"></i><b>7.3</b> Stap 3: Data controleren.</a></li>
<li class="chapter" data-level="7.4" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-4-zet-de-data-in-tidy-format"><i class="fa fa-check"></i><b>7.4</b> Stap 4: Zet de data in tidy format</a></li>
<li class="chapter" data-level="7.5" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-5-harmoniseer-landenamen"><i class="fa fa-check"></i><b>7.5</b> Stap 5: Harmoniseer landenamen</a></li>
<li class="chapter" data-level="7.6" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-6-voeg-datasets-samen"><i class="fa fa-check"></i><b>7.6</b> Stap 6: Voeg datasets samen</a></li>
<li class="chapter" data-level="7.7" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-7-zet-data-in-een-sql-database"><i class="fa fa-check"></i><b>7.7</b> Stap 7: Zet data in een SQL-database</a></li>
<li class="chapter" data-level="7.8" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-8-importeer-de-csv-bestanden-in-dbeaver"><i class="fa fa-check"></i><b>7.8</b> Stap 8: Importeer de CSV-bestanden in DBeaver</a></li>
<li class="chapter" data-level="7.9" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-9-inspecteer-de-tabellen-met-sql-queries"><i class="fa fa-check"></i><b>7.9</b> Stap 9: Inspecteer de tabellen met SQL queries</a></li>
<li class="chapter" data-level="7.10" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-8-voer-een-join-uit-met-sql"><i class="fa fa-check"></i><b>7.10</b> Stap 8: Voer een join uit met SQL</a></li>
<li class="chapter" data-level="7.11" data-path="structured-query-language.html"><a href="structured-query-language.html#stap-8-inlezen-en-visualiseren-in-r"><i class="fa fa-check"></i><b>7.11</b> Stap 8: Inlezen en visualiseren in R</a>
<ul>
<li class="chapter" data-level="7.11.1" data-path="structured-query-language.html"><a href="structured-query-language.html#a.-visualiseer-relatie-tussen-griep-en-levensverwachting"><i class="fa fa-check"></i><b>7.11.1</b> A. visualiseer relatie tussen griep en levensverwachting</a></li>
<li class="chapter" data-level="7.11.2" data-path="structured-query-language.html"><a href="structured-query-language.html#b.-lijngrafiek-over-tijd-per-land"><i class="fa fa-check"></i><b>7.11.2</b> B. Lijngrafiek over tijd per land</a></li>
<li class="chapter" data-level="7.11.3" data-path="structured-query-language.html"><a href="structured-query-language.html#c.-choropleth-map-wereldkaart"><i class="fa fa-check"></i><b>7.11.3</b> C. Choropleth map (wereldkaart)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-package.html"><a href="r-package.html"><i class="fa fa-check"></i><b>8</b> R package</a>
<ul>
<li class="chapter" data-level="8.1" data-path="r-package.html"><a href="r-package.html#documentatie-van-mijn-r-package-ministate"><i class="fa fa-check"></i><b>8.1</b> Documentatie van mijn R package: ministate</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="r-package.html"><a href="r-package.html#inleiding-1"><i class="fa fa-check"></i><b>8.1.1</b> Inleiding</a></li>
<li class="chapter" data-level="8.1.2" data-path="r-package.html"><a href="r-package.html#opzetten-van-het-project"><i class="fa fa-check"></i><b>8.1.2</b> 1. Opzetten van het project</a></li>
<li class="chapter" data-level="8.1.3" data-path="r-package.html"><a href="r-package.html#toevoegen-van-functies"><i class="fa fa-check"></i><b>8.1.3</b> 2. Toevoegen van functies</a></li>
<li class="chapter" data-level="8.1.4" data-path="r-package.html"><a href="r-package.html#testen-van-functies"><i class="fa fa-check"></i><b>8.1.4</b> 3. Testen van functies</a></li>
<li class="chapter" data-level="8.1.5" data-path="r-package.html"><a href="r-package.html#vignette-aanmaken"><i class="fa fa-check"></i><b>8.1.5</b> 4. Vignette aanmaken</a></li>
<li class="chapter" data-level="8.1.6" data-path="r-package.html"><a href="r-package.html#description-bestand"><i class="fa fa-check"></i><b>8.1.6</b> 5. DESCRIPTION bestand</a></li>
<li class="chapter" data-level="8.1.7" data-path="r-package.html"><a href="r-package.html#package-bouwen-en-checken"><i class="fa fa-check"></i><b>8.1.7</b> 6. Package bouwen en checken</a></li>
<li class="chapter" data-level="8.1.8" data-path="r-package.html"><a href="r-package.html#github-koppeling"><i class="fa fa-check"></i><b>8.1.8</b> 7. GitHub koppeling</a></li>
<li class="chapter" data-level="8.1.9" data-path="r-package.html"><a href="r-package.html#conclusie-2"><i class="fa fa-check"></i><b>8.1.9</b> Conclusie</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="r-package.html"><a href="r-package.html#voorbeeld-voor-het-gebruiken-van-de-package"><i class="fa fa-check"></i><b>8.2</b> Voorbeeld voor het gebruiken van de package</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html"><i class="fa fa-check"></i><b>9</b> Geparameteriseerd COVID-19 Europa rapport</a>
<ul>
<li class="chapter" data-level="9.1" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#geparameteriseerd-data-verwerken"><i class="fa fa-check"></i><b>9.1</b> Geparameteriseerd data verwerken</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#stap-1-laad-de-benodigde-libraries"><i class="fa fa-check"></i><b>9.1.1</b> Stap 1: Laad de benodigde libraries</a></li>
<li class="chapter" data-level="9.1.2" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#stap-2-download-en-verwerk-de-data"><i class="fa fa-check"></i><b>9.1.2</b> Stap 2: Download en verwerk de data</a></li>
<li class="chapter" data-level="9.1.3" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#stap-3-foutafhandeling"><i class="fa fa-check"></i><b>9.1.3</b> Stap 3: Foutafhandeling</a></li>
<li class="chapter" data-level="9.1.4" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#stap-4-filter-de-data"><i class="fa fa-check"></i><b>9.1.4</b> Stap 4: Filter de data</a></li>
<li class="chapter" data-level="9.1.5" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#stap-5-het-analyseren-van-de-data"><i class="fa fa-check"></i><b>9.1.5</b> Stap 5: Het analyseren van de data</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#interactieve-quiz-wat-weet-je-van-de-covid-data"><i class="fa fa-check"></i><b>9.2</b> 🧠 Interactieve Quiz: Wat weet je van de COVID-data?</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#vraag-1-hoeveel-dagen-zijn-er-met-gegevens-in-deze-selectie"><i class="fa fa-check"></i><b>9.2.1</b> Vraag 1: Hoeveel dagen zijn er met gegevens in deze selectie?</a></li>
<li class="chapter" data-level="9.2.2" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#vraag-2-hoeveel-besmettingen-zijn-er-in-totaal-gemeld"><i class="fa fa-check"></i><b>9.2.2</b> Vraag 2: Hoeveel besmettingen zijn er in totaal gemeld?</a></li>
<li class="chapter" data-level="9.2.3" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#vraag-3-wat-was-het-hoogste-aantal-besmettingen-op-één-dag"><i class="fa fa-check"></i><b>9.2.3</b> Vraag 3: Wat was het hoogste aantal besmettingen op één dag?</a></li>
<li class="chapter" data-level="9.2.4" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#vraag-4-hoe-ziet-het-verloop-van-besmettingen-eruit"><i class="fa fa-check"></i><b>9.2.4</b> Vraag 4: Hoe ziet het verloop van besmettingen eruit?</a></li>
<li class="chapter" data-level="9.2.5" data-path="geparameteriseerd-covid-19-europa-rapport.html"><a href="geparameteriseerd-covid-19-europa-rapport.html#vraag-5-hoe-ziet-het-verloop-van-sterfgevallen-eruit"><i class="fa fa-check"></i><b>9.2.5</b> Vraag 5: Hoe ziet het verloop van sterfgevallen eruit?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="project-introductie.html"><a href="project-introductie.html"><i class="fa fa-check"></i><b>10</b> Project introductie</a>
<ul>
<li class="chapter" data-level="10.1" data-path="project-introductie.html"><a href="project-introductie.html#minion-sequencing"><i class="fa fa-check"></i><b>10.1</b> minION sequencing</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="referenties.html"><a href="referenties.html"><i class="fa fa-check"></i><b>11</b> Referenties</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="structured-query-language" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">7</span> Structured Query Language<a href="structured-query-language.html#structured-query-language" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In deze opdracht wordt gewerkt met drie verschillende datasets: gegevens over dengue, flu en de gapminder data met informatie over landen en economie.</p>
<p>Het doel is om deze data eerst schoon te maken en ervoor te zorgen dat de landen en datums in alle datasets hetzelfde zijn. Daarna worden de datasets samengevoegd in een database met behulp van SQL.</p>
<p>Met SQL wordt de data bekeken en gecombineerd, zodat er nieuwe verbanden te zien zijn. De resultaten worden vervolgens weer ingeladen in R om er grafieken van te maken.</p>
<p>Deze opdracht laat zien hoe ik de verschillende databronnen kan samenbrengen en analyseren met behulp van R en SQL.</p>
<div id="stap-1-laad-de-libraries" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Stap 1: Laad de libraries<a href="structured-query-language.html#stap-1-laad-de-libraries" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>De volgende packages zijn nodig:</p>
<ul>
<li><p><code>readr</code>: Om csv-bestanden makkelijk in te lezen.</p></li>
<li><p><code>dslabs</code>: Bevat de gapminder dataset.</p></li>
<li><p><code>stringr</code>: Voor stringmanipulatie, zoals het aanpassen van tekstformaten.</p></li>
<li><p><code>dplyr</code>: Voor het manipuleren en schoonmaken van data</p></li>
<li><p><code>tidyr</code>: Data netjes maken:
<code>gather()</code> (lange data), <code>spread()</code> (brede data), <code>separate()</code> (kolommen splitsen)</p></li>
<li><p><code>lubridate</code>: Datums eenvoudig verwerken:
<code>year()</code>, <code>month()</code>, <code>day()</code> (datumdelen extraheren)
<code>ymd()</code> (tekst → datum converteren)</p></li>
<li><p><code>ggplot2</code>: voor het maken van grafieken in R</p></li>
<li><p><code>rnaturalearth</code>: voor het ophalen van wereldkaarten en geografische data</p></li>
<li><p><code>rnaturalearthdata</code> : bevat geografische datasets die door rnaturalearth gebruikt worden</p></li>
<li><p><code>sf</code>: werkt met ‘simple features’ voor het manipuleren en visualiseren van ruimtelijke/geografische data</p></li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="structured-query-language.html#cb75-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb75-2"><a href="structured-query-language.html#cb75-2" tabindex="-1"></a><span class="fu">library</span>(dslabs) </span>
<span id="cb75-3"><a href="structured-query-language.html#cb75-3" tabindex="-1"></a><span class="fu">library</span>(stringr) </span>
<span id="cb75-4"><a href="structured-query-language.html#cb75-4" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb75-5"><a href="structured-query-language.html#cb75-5" tabindex="-1"></a><span class="fu">library</span>(tidyr) </span>
<span id="cb75-6"><a href="structured-query-language.html#cb75-6" tabindex="-1"></a><span class="fu">library</span>(lubridate) </span>
<span id="cb75-7"><a href="structured-query-language.html#cb75-7" tabindex="-1"></a><span class="fu">library</span>(ggplot2) </span>
<span id="cb75-8"><a href="structured-query-language.html#cb75-8" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb75-9"><a href="structured-query-language.html#cb75-9" tabindex="-1"></a><span class="fu">library</span>(rnaturalearthdata) </span>
<span id="cb75-10"><a href="structured-query-language.html#cb75-10" tabindex="-1"></a><span class="fu">library</span>(sf)  </span></code></pre></div>
</div>
<div id="stap-2-data-inlezen-in-r" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Stap 2: Data inlezen in R<a href="structured-query-language.html#stap-2-data-inlezen-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>De datasets wordt eerst ingelezen met behulp van de functie <code>read_csv()</code> van het <code>readr-package</code>. De dengue- en flu-data bevatten enkele regels met metadata bovenaan, daarom wordt er geskippt (skip = 11) om direct bij de relevante data te beginnen. De <code>gapminder data</code> wordt geladen vanuit het <code>dslabs package</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="structured-query-language.html#cb76-1" tabindex="-1"></a><span class="co"># Dengue data inlezen</span></span>
<span id="cb76-2"><a href="structured-query-language.html#cb76-2" tabindex="-1"></a>dengue <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/DataScienceILC/tlsc-dsfb26v-20_workflows/main/data/dengue_data.csv&quot;</span>,</span>
<span id="cb76-3"><a href="structured-query-language.html#cb76-3" tabindex="-1"></a>                   <span class="at">skip =</span> <span class="dv">11</span>)</span>
<span id="cb76-4"><a href="structured-query-language.html#cb76-4" tabindex="-1"></a></span>
<span id="cb76-5"><a href="structured-query-language.html#cb76-5" tabindex="-1"></a><span class="co"># Flu data inlezen</span></span>
<span id="cb76-6"><a href="structured-query-language.html#cb76-6" tabindex="-1"></a>flu <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/DataScienceILC/tlsc-dsfb26v-20_workflows/main/data/flu_data.csv&quot;</span>,</span>
<span id="cb76-7"><a href="structured-query-language.html#cb76-7" tabindex="-1"></a>                <span class="at">skip =</span> <span class="dv">11</span>)</span>
<span id="cb76-8"><a href="structured-query-language.html#cb76-8" tabindex="-1"></a></span>
<span id="cb76-9"><a href="structured-query-language.html#cb76-9" tabindex="-1"></a><span class="co"># Gapminder data inlezen vanuit dslabs package</span></span>
<span id="cb76-10"><a href="structured-query-language.html#cb76-10" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;gapminder&quot;</span>)</span>
<span id="cb76-11"><a href="structured-query-language.html#cb76-11" tabindex="-1"></a></span>
<span id="cb76-12"><a href="structured-query-language.html#cb76-12" tabindex="-1"></a><span class="co"># Bekijk eerste paar rijen van elke dataset</span></span>
<span id="cb76-13"><a href="structured-query-language.html#cb76-13" tabindex="-1"></a><span class="fu">head</span>(dengue)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 11
##   Date       Argentina Bolivia Brazil India Indonesia Mexico Philippines
##   &lt;date&gt;         &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;
## 1 2002-12-29        NA   0.101  0.073 0.062     0.101 NA              NA
## 2 2003-01-05        NA   0.143  0.098 0.047     0.039 NA              NA
## 3 2003-01-12        NA   0.176  0.119 0.051     0.059  0.071          NA
## 4 2003-01-19        NA   0.173  0.17  0.032     0.039  0.052          NA
## 5 2003-01-26        NA   0.146  0.138 0.04      0.112  0.048          NA
## 6 2003-02-02        NA   0.16   0.202 0.038     0.049  0.041          NA
## # ℹ 3 more variables: Singapore &lt;dbl&gt;, Thailand &lt;dbl&gt;, Venezuela &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="structured-query-language.html#cb78-1" tabindex="-1"></a><span class="fu">head</span>(flu)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 30
##   Date       Argentina Australia Austria Belgium Bolivia Brazil Bulgaria Canada
##   &lt;date&gt;         &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
## 1 2002-12-29        NA        NA      NA      NA      NA    174       NA     NA
## 2 2003-01-05        NA        NA      NA      NA      NA    162       NA     NA
## 3 2003-01-12        NA        NA      NA      NA      NA    174       NA     NA
## 4 2003-01-19        NA        NA      NA      NA      NA    162       NA     NA
## 5 2003-01-26        NA        NA      NA      NA      NA    131       NA     NA
## 6 2003-02-02       136        NA      NA      NA      NA    151       NA     NA
## # ℹ 21 more variables: Chile &lt;dbl&gt;, France &lt;dbl&gt;, Germany &lt;dbl&gt;, Hungary &lt;dbl&gt;,
## #   Japan &lt;dbl&gt;, Mexico &lt;dbl&gt;, Netherlands &lt;dbl&gt;, `New Zealand` &lt;dbl&gt;,
## #   Norway &lt;dbl&gt;, Paraguay &lt;dbl&gt;, Peru &lt;dbl&gt;, Poland &lt;dbl&gt;, Romania &lt;dbl&gt;,
## #   Russia &lt;dbl&gt;, `South Africa` &lt;dbl&gt;, Spain &lt;dbl&gt;, Sweden &lt;dbl&gt;,
## #   Switzerland &lt;dbl&gt;, Ukraine &lt;dbl&gt;, `United States` &lt;dbl&gt;, Uruguay &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="structured-query-language.html#cb80-1" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span></code></pre></div>
<pre><code>##               country year infant_mortality life_expectancy fertility
## 1             Albania 1960           115.40           62.87      6.19
## 2             Algeria 1960           148.20           47.50      7.65
## 3              Angola 1960           208.00           35.98      7.32
## 4 Antigua and Barbuda 1960               NA           62.97      4.43
## 5           Argentina 1960            59.87           65.39      3.11
## 6             Armenia 1960               NA           66.86      4.55
##   population          gdp continent          region
## 1    1636054           NA    Europe Southern Europe
## 2   11124892  13828152297    Africa Northern Africa
## 3    5270844           NA    Africa   Middle Africa
## 4      54681           NA  Americas       Caribbean
## 5   20619075 108322326649  Americas   South America
## 6    1867396           NA      Asia    Western Asia</code></pre>
</div>
<div id="stap-3-data-controleren." class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Stap 3: Data controleren.<a href="structured-query-language.html#stap-3-data-controleren." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Controle of de data in tidy format staat (elke variabele een kolom, elke observatie een rij, elke waarde een cel).</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="structured-query-language.html#cb82-1" tabindex="-1"></a><span class="co"># Controleer structuur van de datasets</span></span>
<span id="cb82-2"><a href="structured-query-language.html#cb82-2" tabindex="-1"></a><span class="fu">str</span>(dengue)</span></code></pre></div>
<pre><code>## spc_tbl_ [659 × 11] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Date       : Date[1:659], format: &quot;2002-12-29&quot; &quot;2003-01-05&quot; ...
##  $ Argentina  : num [1:659] NA NA NA NA NA NA NA 0.046 0.048 0.051 ...
##  $ Bolivia    : num [1:659] 0.101 0.143 0.176 0.173 0.146 0.16 0.225 0.109 0.147 0.119 ...
##  $ Brazil     : num [1:659] 0.073 0.098 0.119 0.17 0.138 0.202 0.179 0.239 0.205 0.142 ...
##  $ India      : num [1:659] 0.062 0.047 0.051 0.032 0.04 0.038 0.019 0.008 0.022 0.028 ...
##  $ Indonesia  : num [1:659] 0.101 0.039 0.059 0.039 0.112 0.049 0.06 0.039 0.078 0.048 ...
##  $ Mexico     : num [1:659] NA NA 0.071 0.052 0.048 0.041 0.042 0.049 0.054 0.075 ...
##  $ Philippines: num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Singapore  : num [1:659] 0.059 0.059 0.238 0.175 0.164 0.163 0.15 0.144 0.142 0.129 ...
##  $ Thailand   : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Venezuela  : num [1:659] NA NA NA NA NA NA NA 0.139 0.137 0.168 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Date = col_date(format = &quot;&quot;),
##   ..   Argentina = col_double(),
##   ..   Bolivia = col_double(),
##   ..   Brazil = col_double(),
##   ..   India = col_double(),
##   ..   Indonesia = col_double(),
##   ..   Mexico = col_double(),
##   ..   Philippines = col_double(),
##   ..   Singapore = col_double(),
##   ..   Thailand = col_double(),
##   ..   Venezuela = col_double()
##   .. )
##  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="structured-query-language.html#cb84-1" tabindex="-1"></a><span class="fu">str</span>(flu)</span></code></pre></div>
<pre><code>## spc_tbl_ [659 × 30] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Date         : Date[1:659], format: &quot;2002-12-29&quot; &quot;2003-01-05&quot; ...
##  $ Argentina    : num [1:659] NA NA NA NA NA 136 145 141 135 134 ...
##  $ Australia    : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Austria      : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Belgium      : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Bolivia      : num [1:659] NA NA NA NA NA NA NA NA 426 427 ...
##  $ Brazil       : num [1:659] 174 162 174 162 131 151 184 162 194 177 ...
##  $ Bulgaria     : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Canada       : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Chile        : num [1:659] NA NA 1 0 0 0 0 0 0 0 ...
##  $ France       : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Germany      : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Hungary      : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Japan        : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Mexico       : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Netherlands  : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ New Zealand  : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Norway       : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Paraguay     : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Peru         : num [1:659] 329 315 314 267 241 227 250 236 274 270 ...
##  $ Poland       : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Romania      : num [1:659] NA NA NA NA NA NA 664 736 740 864 ...
##  $ Russia       : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ South Africa : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Spain        : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Sweden       : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Switzerland  : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Ukraine      : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ United States: num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  $ Uruguay      : num [1:659] NA NA NA NA NA NA NA NA NA NA ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Date = col_date(format = &quot;&quot;),
##   ..   Argentina = col_double(),
##   ..   Australia = col_double(),
##   ..   Austria = col_double(),
##   ..   Belgium = col_double(),
##   ..   Bolivia = col_double(),
##   ..   Brazil = col_double(),
##   ..   Bulgaria = col_double(),
##   ..   Canada = col_double(),
##   ..   Chile = col_double(),
##   ..   France = col_double(),
##   ..   Germany = col_double(),
##   ..   Hungary = col_double(),
##   ..   Japan = col_double(),
##   ..   Mexico = col_double(),
##   ..   Netherlands = col_double(),
##   ..   `New Zealand` = col_double(),
##   ..   Norway = col_double(),
##   ..   Paraguay = col_double(),
##   ..   Peru = col_double(),
##   ..   Poland = col_double(),
##   ..   Romania = col_double(),
##   ..   Russia = col_double(),
##   ..   `South Africa` = col_double(),
##   ..   Spain = col_double(),
##   ..   Sweden = col_double(),
##   ..   Switzerland = col_double(),
##   ..   Ukraine = col_double(),
##   ..   `United States` = col_double(),
##   ..   Uruguay = col_double()
##   .. )
##  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="structured-query-language.html#cb86-1" tabindex="-1"></a><span class="fu">str</span>(gapminder)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10545 obs. of  9 variables:
##  $ country         : Factor w/ 185 levels &quot;Albania&quot;,&quot;Algeria&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...
##  $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...
##  $ life_expectancy : num  62.9 47.5 36 63 65.4 ...
##  $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...
##  $ population      : num  1636054 11124892 5270844 54681 20619075 ...
##  $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...
##  $ continent       : Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 4 1 1 2 2 3 2 5 4 3 ...
##  $ region          : Factor w/ 22 levels &quot;Australia and New Zealand&quot;,..: 19 11 10 2 15 21 2 1 22 21 ...</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="structured-query-language.html#cb88-1" tabindex="-1"></a><span class="co"># Controleer of kolomnamen en datatypes kloppen</span></span>
<span id="cb88-2"><a href="structured-query-language.html#cb88-2" tabindex="-1"></a><span class="fu">glimpse</span>(dengue)</span></code></pre></div>
<pre><code>## Rows: 659
## Columns: 11
## $ Date        &lt;date&gt; 2002-12-29, 2003-01-05, 2003-01-12, 2003-01-19, 2003-01-2…
## $ Argentina   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 0.046, 0.048, 0.051, 0.051, 0.…
## $ Bolivia     &lt;dbl&gt; 0.101, 0.143, 0.176, 0.173, 0.146, 0.160, 0.225, 0.109, 0.…
## $ Brazil      &lt;dbl&gt; 0.073, 0.098, 0.119, 0.170, 0.138, 0.202, 0.179, 0.239, 0.…
## $ India       &lt;dbl&gt; 0.062, 0.047, 0.051, 0.032, 0.040, 0.038, 0.019, 0.008, 0.…
## $ Indonesia   &lt;dbl&gt; 0.101, 0.039, 0.059, 0.039, 0.112, 0.049, 0.060, 0.039, 0.…
## $ Mexico      &lt;dbl&gt; NA, NA, 0.071, 0.052, 0.048, 0.041, 0.042, 0.049, 0.054, 0…
## $ Philippines &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.059,…
## $ Singapore   &lt;dbl&gt; 0.059, 0.059, 0.238, 0.175, 0.164, 0.163, 0.150, 0.144, 0.…
## $ Thailand    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Venezuela   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 0.139, 0.137, 0.168, 0.169, 0.…</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="structured-query-language.html#cb90-1" tabindex="-1"></a><span class="fu">glimpse</span>(flu)</span></code></pre></div>
<pre><code>## Rows: 659
## Columns: 30
## $ Date            &lt;date&gt; 2002-12-29, 2003-01-05, 2003-01-12, 2003-01-19, 2003-…
## $ Argentina       &lt;dbl&gt; NA, NA, NA, NA, NA, 136, 145, 141, 135, 134, 136, 134,…
## $ Australia       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Austria         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Belgium         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Bolivia         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 426, 427, 460, 541, 54…
## $ Brazil          &lt;dbl&gt; 174, 162, 174, 162, 131, 151, 184, 162, 194, 177, 223,…
## $ Bulgaria        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Canada          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Chile           &lt;dbl&gt; NA, NA, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 2, 1, 1, 1, 2…
## $ France          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Germany         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Hungary         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Japan           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Mexico          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Netherlands     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ `New Zealand`   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Norway          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Paraguay        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Peru            &lt;dbl&gt; 329, 315, 314, 267, 241, 227, 250, 236, 274, 270, 312,…
## $ Poland          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Romania         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 664, 736, 740, 864, 824, 819, …
## $ Russia          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ `South Africa`  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Spain           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Sweden          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Switzerland     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Ukraine         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ `United States` &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ Uruguay         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 105, 102, …</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="structured-query-language.html#cb92-1" tabindex="-1"></a><span class="fu">glimpse</span>(gapminder)</span></code></pre></div>
<pre><code>## Rows: 10,545
## Columns: 9
## $ country          &lt;fct&gt; &quot;Albania&quot;, &quot;Algeria&quot;, &quot;Angola&quot;, &quot;Antigua and Barbuda&quot;…
## $ year             &lt;int&gt; 1960, 1960, 1960, 1960, 1960, 1960, 1960, 1960, 1960,…
## $ infant_mortality &lt;dbl&gt; 115.40, 148.20, 208.00, NA, 59.87, NA, NA, 20.30, 37.…
## $ life_expectancy  &lt;dbl&gt; 62.87, 47.50, 35.98, 62.97, 65.39, 66.86, 65.66, 70.8…
## $ fertility        &lt;dbl&gt; 6.19, 7.65, 7.32, 4.43, 3.11, 4.55, 4.82, 3.45, 2.70,…
## $ population       &lt;dbl&gt; 1636054, 11124892, 5270844, 54681, 20619075, 1867396,…
## $ gdp              &lt;dbl&gt; NA, 13828152297, NA, NA, 108322326649, NA, NA, 966778…
## $ continent        &lt;fct&gt; Europe, Africa, Africa, Americas, Americas, Asia, Ame…
## $ region           &lt;fct&gt; Southern Europe, Northern Africa, Middle Africa, Cari…</code></pre>
<p><strong>Stap 4 t/m 6: Data transformeren, harmoniseren en samenvoegen</strong></p>
<p>In deze stappen worden de <code>flu</code>- en <code>dengue</code>-datasets naar een <em>tidy</em> formaat getransformeerd, de landenamen geharmoniseerd zodat ze overeenkomen met die van de <code>gapminder</code>-dataset, en alle gegevens samengevoed.</p>
</div>
<div id="stap-4-zet-de-data-in-tidy-format" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Stap 4: Zet de data in tidy format<a href="structured-query-language.html#stap-4-zet-de-data-in-tidy-format" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>De oorspronkelijke data bevat landen als kolomnamen (wide format). <code>pivot_longer()</code> wordt gebruikt om de data om te zetten naar long format:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="structured-query-language.html#cb94-1" tabindex="-1"></a><span class="co"># Zet de data van wide naar long format:</span></span>
<span id="cb94-2"><a href="structured-query-language.html#cb94-2" tabindex="-1"></a><span class="co"># Elke kolom met een land wordt omgezet naar een rij met bijbehorende landnaam en waarde.</span></span>
<span id="cb94-3"><a href="structured-query-language.html#cb94-3" tabindex="-1"></a></span>
<span id="cb94-4"><a href="structured-query-language.html#cb94-4" tabindex="-1"></a>flu_tidy <span class="ot">&lt;-</span> flu <span class="sc">%&gt;%</span> </span>
<span id="cb94-5"><a href="structured-query-language.html#cb94-5" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>Date, <span class="at">names_to =</span> <span class="st">&quot;Country&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;Flu_rate&quot;</span>)</span>
<span id="cb94-6"><a href="structured-query-language.html#cb94-6" tabindex="-1"></a></span>
<span id="cb94-7"><a href="structured-query-language.html#cb94-7" tabindex="-1"></a>dengue_tidy <span class="ot">&lt;-</span> dengue <span class="sc">%&gt;%</span> </span>
<span id="cb94-8"><a href="structured-query-language.html#cb94-8" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>Date, <span class="at">names_to =</span> <span class="st">&quot;Country&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;Dengue_rate&quot;</span>)</span></code></pre></div>
</div>
<div id="stap-5-harmoniseer-landenamen" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Stap 5: Harmoniseer landenamen<a href="structured-query-language.html#stap-5-harmoniseer-landenamen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>De landenamen in de flu- en dengue-datasets moeten overeenkomen met de namen in gapminder. Underscores worden door spaties vervangen en in specifieke namen gecorrigeerd:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="structured-query-language.html#cb95-1" tabindex="-1"></a><span class="co"># Corrigeer specifieke landenamen zodat deze overeenkomen met gapminder-data.</span></span>
<span id="cb95-2"><a href="structured-query-language.html#cb95-2" tabindex="-1"></a><span class="co"># Underscores worden vervangen door spaties.</span></span>
<span id="cb95-3"><a href="structured-query-language.html#cb95-3" tabindex="-1"></a></span>
<span id="cb95-4"><a href="structured-query-language.html#cb95-4" tabindex="-1"></a>flu_tidy <span class="ot">&lt;-</span> flu_tidy <span class="sc">%&gt;%</span></span>
<span id="cb95-5"><a href="structured-query-language.html#cb95-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">case_when</span>(</span>
<span id="cb95-6"><a href="structured-query-language.html#cb95-6" tabindex="-1"></a>    Country <span class="sc">==</span> <span class="st">&quot;United_States&quot;</span> <span class="sc">~</span> <span class="st">&quot;United States&quot;</span>,</span>
<span id="cb95-7"><a href="structured-query-language.html#cb95-7" tabindex="-1"></a>    Country <span class="sc">==</span> <span class="st">&quot;South_Africa&quot;</span> <span class="sc">~</span> <span class="st">&quot;South Africa&quot;</span>,</span>
<span id="cb95-8"><a href="structured-query-language.html#cb95-8" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">str_replace_all</span>(Country, <span class="st">&quot;_&quot;</span>, <span class="st">&quot; &quot;</span>)</span>
<span id="cb95-9"><a href="structured-query-language.html#cb95-9" tabindex="-1"></a>  ))</span>
<span id="cb95-10"><a href="structured-query-language.html#cb95-10" tabindex="-1"></a></span>
<span id="cb95-11"><a href="structured-query-language.html#cb95-11" tabindex="-1"></a>dengue_tidy <span class="ot">&lt;-</span> dengue_tidy <span class="sc">%&gt;%</span></span>
<span id="cb95-12"><a href="structured-query-language.html#cb95-12" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">case_when</span>(</span>
<span id="cb95-13"><a href="structured-query-language.html#cb95-13" tabindex="-1"></a>    Country <span class="sc">==</span> <span class="st">&quot;United_States&quot;</span> <span class="sc">~</span> <span class="st">&quot;United States&quot;</span>,</span>
<span id="cb95-14"><a href="structured-query-language.html#cb95-14" tabindex="-1"></a>    Country <span class="sc">==</span> <span class="st">&quot;South_Africa&quot;</span> <span class="sc">~</span> <span class="st">&quot;South Africa&quot;</span>,</span>
<span id="cb95-15"><a href="structured-query-language.html#cb95-15" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">str_replace_all</span>(Country, <span class="st">&quot;_&quot;</span>, <span class="st">&quot; &quot;</span>)</span>
<span id="cb95-16"><a href="structured-query-language.html#cb95-16" tabindex="-1"></a>  ))</span></code></pre></div>
</div>
<div id="stap-6-voeg-datasets-samen" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Stap 6: Voeg datasets samen<a href="structured-query-language.html#stap-6-voeg-datasets-samen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Er wordt jaarkolom toegevoed, het jaargemiddelde per land berekend en deze gekoppeld aan gapminder met <code>left_join()</code>:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="structured-query-language.html#cb96-1" tabindex="-1"></a><span class="co"># Voeg jaarkolom toe op basis van de datum</span></span>
<span id="cb96-2"><a href="structured-query-language.html#cb96-2" tabindex="-1"></a>flu_tidy <span class="ot">&lt;-</span> flu_tidy <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span>
<span id="cb96-3"><a href="structured-query-language.html#cb96-3" tabindex="-1"></a>dengue_tidy <span class="ot">&lt;-</span> dengue_tidy <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span>
<span id="cb96-4"><a href="structured-query-language.html#cb96-4" tabindex="-1"></a></span>
<span id="cb96-5"><a href="structured-query-language.html#cb96-5" tabindex="-1"></a></span>
<span id="cb96-6"><a href="structured-query-language.html#cb96-6" tabindex="-1"></a><span class="co"># Bereken het jaargemiddelde per land voor griep</span></span>
<span id="cb96-7"><a href="structured-query-language.html#cb96-7" tabindex="-1"></a>flu_avg <span class="ot">&lt;-</span> flu_tidy <span class="sc">%&gt;%</span></span>
<span id="cb96-8"><a href="structured-query-language.html#cb96-8" tabindex="-1"></a>  <span class="fu">group_by</span>(Country, Year) <span class="sc">%&gt;%</span></span>
<span id="cb96-9"><a href="structured-query-language.html#cb96-9" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean_Flu =</span> <span class="fu">mean</span>(Flu_rate, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb96-10"><a href="structured-query-language.html#cb96-10" tabindex="-1"></a></span>
<span id="cb96-11"><a href="structured-query-language.html#cb96-11" tabindex="-1"></a><span class="co"># Bereken het jaargemiddelde per land voor dengue</span></span>
<span id="cb96-12"><a href="structured-query-language.html#cb96-12" tabindex="-1"></a>dengue_avg <span class="ot">&lt;-</span> dengue_tidy <span class="sc">%&gt;%</span></span>
<span id="cb96-13"><a href="structured-query-language.html#cb96-13" tabindex="-1"></a>  <span class="fu">group_by</span>(Country, Year) <span class="sc">%&gt;%</span></span>
<span id="cb96-14"><a href="structured-query-language.html#cb96-14" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean_Dengue =</span> <span class="fu">mean</span>(Dengue_rate, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb96-15"><a href="structured-query-language.html#cb96-15" tabindex="-1"></a></span>
<span id="cb96-16"><a href="structured-query-language.html#cb96-16" tabindex="-1"></a><span class="co"># Combineer met gapminder-data via left joins</span></span>
<span id="cb96-17"><a href="structured-query-language.html#cb96-17" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb96-18"><a href="structured-query-language.html#cb96-18" tabindex="-1"></a>  <span class="fu">left_join</span>(flu_avg, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;country&quot;</span> <span class="ot">=</span> <span class="st">&quot;Country&quot;</span>, <span class="st">&quot;year&quot;</span> <span class="ot">=</span> <span class="st">&quot;Year&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb96-19"><a href="structured-query-language.html#cb96-19" tabindex="-1"></a>  <span class="fu">left_join</span>(dengue_avg, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;country&quot;</span> <span class="ot">=</span> <span class="st">&quot;Country&quot;</span>, <span class="st">&quot;year&quot;</span> <span class="ot">=</span> <span class="st">&quot;Year&quot;</span>))</span></code></pre></div>
<p>De <code>combined_data</code> dataset bevat nu voor elk land en jaar gegevens over bevolkingsomvang, levensverwachting, inkomen per hoofd én ziektelast door griep en dengue</p>
</div>
<div id="stap-7-zet-data-in-een-sql-database" class="section level2 hasAnchor" number="7.7">
<h2><span class="header-section-number">7.7</span> Stap 7: Zet data in een SQL-database<a href="structured-query-language.html#stap-7-zet-data-in-een-sql-database" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Schrijf de datasets weg naar CSV’s en gebruik DBeaver of een ander tool om deze in een PostgreSQL database te laden.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="structured-query-language.html#cb97-1" tabindex="-1"></a><span class="co"># Exporteer de datasets naar CSV-bestanden voor import in DBeaver</span></span>
<span id="cb97-2"><a href="structured-query-language.html#cb97-2" tabindex="-1"></a><span class="fu">write_csv</span>(dengue_avg, <span class="st">&quot;data/dengue_avg.csv&quot;</span>)</span>
<span id="cb97-3"><a href="structured-query-language.html#cb97-3" tabindex="-1"></a><span class="fu">write_csv</span>(flu_avg, <span class="st">&quot;data/flu_avg.csv&quot;</span>)</span>
<span id="cb97-4"><a href="structured-query-language.html#cb97-4" tabindex="-1"></a><span class="fu">write_csv</span>(gapminder, <span class="st">&quot;data/gapminder.csv&quot;</span>, <span class="at">na =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
</div>
<div id="stap-8-importeer-de-csv-bestanden-in-dbeaver" class="section level2 hasAnchor" number="7.8">
<h2><span class="header-section-number">7.8</span> Stap 8: Importeer de CSV-bestanden in DBeaver<a href="structured-query-language.html#stap-8-importeer-de-csv-bestanden-in-dbeaver" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Open DBeaver.</li>
<li>Maak een nieuwe PostgreSQL database aan met de naam <code>workflowsdb</code>.</li>
<li>Importeer de bestanden <code>flu_long.csv</code>, <code>dengue_long.csv</code> en <code>gapminder_clean.csv</code> als drie aparte tabellen:</li>
</ol>
<ul>
<li><code>flu</code></li>
<li><code>dengue</code></li>
<li><code>gapminder</code></li>
</ul>
</div>
<div id="stap-9-inspecteer-de-tabellen-met-sql-queries" class="section level2 hasAnchor" number="7.9">
<h2><span class="header-section-number">7.9</span> Stap 9: Inspecteer de tabellen met SQL queries<a href="structured-query-language.html#stap-9-inspecteer-de-tabellen-met-sql-queries" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb98"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb98-1"><a href="structured-query-language.html#cb98-1" tabindex="-1"></a><span class="co">-- Voorbeeldquery</span></span>
<span id="cb98-2"><a href="structured-query-language.html#cb98-2" tabindex="-1"></a><span class="co">-- Bekijk de eerste 10 regels van de flu-tabel</span></span>
<span id="cb98-3"><a href="structured-query-language.html#cb98-3" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> flu <span class="kw">LIMIT</span> <span class="dv">10</span>;</span>
<span id="cb98-4"><a href="structured-query-language.html#cb98-4" tabindex="-1"></a></span>
<span id="cb98-5"><a href="structured-query-language.html#cb98-5" tabindex="-1"></a><span class="co">-- Toon unieke landen in dengue-tabel</span></span>
<span id="cb98-6"><a href="structured-query-language.html#cb98-6" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> country <span class="kw">FROM</span> dengue;</span>
<span id="cb98-7"><a href="structured-query-language.html#cb98-7" tabindex="-1"></a></span>
<span id="cb98-8"><a href="structured-query-language.html#cb98-8" tabindex="-1"></a><span class="co">-- Tel aantal rijen in gapminder uit het jaar 2003</span></span>
<span id="cb98-9"><a href="structured-query-language.html#cb98-9" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">FROM</span> gapminder <span class="kw">WHERE</span> <span class="dt">year</span> <span class="op">=</span> <span class="dv">2003</span>;</span></code></pre></div>
</div>
<div id="stap-8-voer-een-join-uit-met-sql" class="section level2 hasAnchor" number="7.10">
<h2><span class="header-section-number">7.10</span> Stap 8: Voer een join uit met SQL<a href="structured-query-language.html#stap-8-voer-een-join-uit-met-sql" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Nu is het mogelijk om een JOIN uit te voeren om de tabellen te combineren. Bijvoorbeeld: combineer alle drie de tabellen op country en year.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb99-1"><a href="structured-query-language.html#cb99-1" tabindex="-1"></a><span class="co">-- Combineer de drie tabellen via LEFT JOIN op country en year</span></span>
<span id="cb99-2"><a href="structured-query-language.html#cb99-2" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb99-3"><a href="structured-query-language.html#cb99-3" tabindex="-1"></a>  g.country,</span>
<span id="cb99-4"><a href="structured-query-language.html#cb99-4" tabindex="-1"></a>  g.<span class="dt">year</span>,</span>
<span id="cb99-5"><a href="structured-query-language.html#cb99-5" tabindex="-1"></a>  g.life_expectancy,</span>
<span id="cb99-6"><a href="structured-query-language.html#cb99-6" tabindex="-1"></a>  g.gdp,</span>
<span id="cb99-7"><a href="structured-query-language.html#cb99-7" tabindex="-1"></a>  g.population,</span>
<span id="cb99-8"><a href="structured-query-language.html#cb99-8" tabindex="-1"></a>  f.mean_flu,</span>
<span id="cb99-9"><a href="structured-query-language.html#cb99-9" tabindex="-1"></a>  d.mean_dengue</span>
<span id="cb99-10"><a href="structured-query-language.html#cb99-10" tabindex="-1"></a><span class="kw">FROM</span> gapminder g</span>
<span id="cb99-11"><a href="structured-query-language.html#cb99-11" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> flu f</span>
<span id="cb99-12"><a href="structured-query-language.html#cb99-12" tabindex="-1"></a>  <span class="kw">ON</span> g.country <span class="op">=</span> f.country <span class="kw">AND</span> g.<span class="dt">year</span> <span class="op">=</span> f.<span class="ot">&quot;Year&quot;</span></span>
<span id="cb99-13"><a href="structured-query-language.html#cb99-13" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> denguee d </span>
<span id="cb99-14"><a href="structured-query-language.html#cb99-14" tabindex="-1"></a>  <span class="kw">ON</span> g.country <span class="op">=</span> d.country <span class="kw">AND</span> g.<span class="dt">year</span> <span class="op">=</span> d.<span class="ot">&quot;Year&quot;</span>;</span></code></pre></div>
</div>
<div id="stap-8-inlezen-en-visualiseren-in-r" class="section level2 hasAnchor" number="7.11">
<h2><span class="header-section-number">7.11</span> Stap 8: Inlezen en visualiseren in R<a href="structured-query-language.html#stap-8-inlezen-en-visualiseren-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="a.-visualiseer-relatie-tussen-griep-en-levensverwachting" class="section level3 hasAnchor" number="7.11.1">
<h3><span class="header-section-number">7.11.1</span> A. visualiseer relatie tussen griep en levensverwachting<a href="structured-query-language.html#a.-visualiseer-relatie-tussen-griep-en-levensverwachting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="structured-query-language.html#cb100-1" tabindex="-1"></a><span class="co"># Lees samengestelde data in</span></span>
<span id="cb100-2"><a href="structured-query-language.html#cb100-2" tabindex="-1"></a>joined_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/joined_data.csv&quot;</span>)</span>
<span id="cb100-3"><a href="structured-query-language.html#cb100-3" tabindex="-1"></a></span>
<span id="cb100-4"><a href="structured-query-language.html#cb100-4" tabindex="-1"></a><span class="co"># Bereken de correlatie (gebruik alleen rijen zonder NA&#39;s)</span></span>
<span id="cb100-5"><a href="structured-query-language.html#cb100-5" tabindex="-1"></a>correlatie <span class="ot">&lt;-</span> <span class="fu">cor</span>(joined_data<span class="sc">$</span>mean_flu, joined_data<span class="sc">$</span>life_expectancy, <span class="at">use =</span> <span class="st">&quot;complete.obs&quot;</span>)</span>
<span id="cb100-6"><a href="structured-query-language.html#cb100-6" tabindex="-1"></a></span>
<span id="cb100-7"><a href="structured-query-language.html#cb100-7" tabindex="-1"></a><span class="co"># Maak een tekst voor in de titel</span></span>
<span id="cb100-8"><a href="structured-query-language.html#cb100-8" tabindex="-1"></a>cor_text <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(correlatie <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">&quot;positieve&quot;</span>, <span class="st">&quot;negatieve&quot;</span>)</span>
<span id="cb100-9"><a href="structured-query-language.html#cb100-9" tabindex="-1"></a></span>
<span id="cb100-10"><a href="structured-query-language.html#cb100-10" tabindex="-1"></a><span class="co"># Visualiseer de relatie in een scatterplot</span></span>
<span id="cb100-11"><a href="structured-query-language.html#cb100-11" tabindex="-1"></a><span class="fu">ggplot</span>(joined_data, <span class="fu">aes</span>(<span class="at">x =</span> mean_flu, <span class="at">y =</span> life_expectancy)) <span class="sc">+</span></span>
<span id="cb100-12"><a href="structured-query-language.html#cb100-12" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb100-13"><a href="structured-query-language.html#cb100-13" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb100-14"><a href="structured-query-language.html#cb100-14" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste0</span>(<span class="st">&quot;Relatie tussen griep en levensverwachting (&quot;</span>, cor_text, <span class="st">&quot; correlatie = &quot;</span>, <span class="fu">round</span>(correlatie, <span class="dv">2</span>), <span class="st">&quot;)&quot;</span>),</span>
<span id="cb100-15"><a href="structured-query-language.html#cb100-15" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Gemiddelde griepratio&quot;</span>,</span>
<span id="cb100-16"><a href="structured-query-language.html#cb100-16" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Levensverwachting&quot;</span></span>
<span id="cb100-17"><a href="structured-query-language.html#cb100-17" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb100-18"><a href="structured-query-language.html#cb100-18" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/joined-1.png" width="672" /></p>
</div>
<div id="b.-lijngrafiek-over-tijd-per-land" class="section level3 hasAnchor" number="7.11.2">
<h3><span class="header-section-number">7.11.2</span> B. Lijngrafiek over tijd per land<a href="structured-query-language.html#b.-lijngrafiek-over-tijd-per-land" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Doel</strong>: Ontwikkeling van bijvoorbeeld dengue of flu per land over de jaren.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="structured-query-language.html#cb101-1" tabindex="-1"></a><span class="co"># Lijngrafiek voor dengue over tijd, per land</span></span>
<span id="cb101-2"><a href="structured-query-language.html#cb101-2" tabindex="-1"></a>joined_data <span class="sc">%&gt;%</span></span>
<span id="cb101-3"><a href="structured-query-language.html#cb101-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(mean_dengue)) <span class="sc">%&gt;%</span></span>
<span id="cb101-4"><a href="structured-query-language.html#cb101-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_dengue, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb101-5"><a href="structured-query-language.html#cb101-5" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb101-6"><a href="structured-query-language.html#cb101-6" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb101-7"><a href="structured-query-language.html#cb101-7" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb101-8"><a href="structured-query-language.html#cb101-8" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Dengue over tijd per land&quot;</span>,</span>
<span id="cb101-9"><a href="structured-query-language.html#cb101-9" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Jaar&quot;</span>,</span>
<span id="cb101-10"><a href="structured-query-language.html#cb101-10" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Gemiddelde dengue-incidentie&quot;</span></span>
<span id="cb101-11"><a href="structured-query-language.html#cb101-11" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb101-12"><a href="structured-query-language.html#cb101-12" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/lijnen-1.png" width="672" /></p>
</div>
<div id="c.-choropleth-map-wereldkaart" class="section level3 hasAnchor" number="7.11.3">
<h3><span class="header-section-number">7.11.3</span> C. Choropleth map (wereldkaart)<a href="structured-query-language.html#c.-choropleth-map-wereldkaart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Doel</strong>: Visueel geografisch overzicht van ziektelast of GDP.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="structured-query-language.html#cb102-1" tabindex="-1"></a><span class="co"># Laad wereldkaart als sf-object</span></span>
<span id="cb102-2"><a href="structured-query-language.html#cb102-2" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">&quot;medium&quot;</span>, <span class="at">returnclass =</span> <span class="st">&quot;sf&quot;</span>)</span>
<span id="cb102-3"><a href="structured-query-language.html#cb102-3" tabindex="-1"></a></span>
<span id="cb102-4"><a href="structured-query-language.html#cb102-4" tabindex="-1"></a><span class="co"># Voeg de epidemiologische data toe aan het kaartobject</span></span>
<span id="cb102-5"><a href="structured-query-language.html#cb102-5" tabindex="-1"></a>map_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(world, joined_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;name&quot;</span> <span class="ot">=</span> <span class="st">&quot;country&quot;</span>))</span>
<span id="cb102-6"><a href="structured-query-language.html#cb102-6" tabindex="-1"></a></span>
<span id="cb102-7"><a href="structured-query-language.html#cb102-7" tabindex="-1"></a><span class="co"># Bereken de centroiden van de landen voor de labels</span></span>
<span id="cb102-8"><a href="structured-query-language.html#cb102-8" tabindex="-1"></a>map_data_centroids <span class="ot">&lt;-</span> <span class="fu">st_centroid</span>(map_data)</span>
<span id="cb102-9"><a href="structured-query-language.html#cb102-9" tabindex="-1"></a></span>
<span id="cb102-10"><a href="structured-query-language.html#cb102-10" tabindex="-1"></a><span class="co"># Plot dengue-waarden als kleuren op wereldkaart</span></span>
<span id="cb102-11"><a href="structured-query-language.html#cb102-11" tabindex="-1"></a><span class="fu">ggplot</span>(map_data) <span class="sc">+</span></span>
<span id="cb102-12"><a href="structured-query-language.html#cb102-12" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> mean_dengue)) <span class="sc">+</span></span>
<span id="cb102-13"><a href="structured-query-language.html#cb102-13" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> map_data_centroids, </span>
<span id="cb102-14"><a href="structured-query-language.html#cb102-14" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">st_coordinates</span>(geometry)[,<span class="dv">1</span>], <span class="at">y =</span> <span class="fu">st_coordinates</span>(geometry)[,<span class="dv">2</span>], <span class="at">label =</span> name),</span>
<span id="cb102-15"><a href="structured-query-language.html#cb102-15" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">check_overlap =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb102-16"><a href="structured-query-language.html#cb102-16" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Wereldkaart van dengue-incidentie&quot;</span>,</span>
<span id="cb102-17"><a href="structured-query-language.html#cb102-17" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&quot;Dengue&quot;</span>) <span class="sc">+</span></span>
<span id="cb102-18"><a href="structured-query-language.html#cb102-18" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/mappp-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reproduceerbare-analyse-2-artikel-beoordelen-op-reproduceerbaarheid.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-package.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
